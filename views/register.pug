doctype html
html
	head
		title Matcha | #{title}
		include header_items.pug
		link(rel='stylesheet', href='/register.css')
		link(rel='stylesheet', href='sweetalert2.css')
	body
		include navbar.pug

		.container.mx-auto
			h1.text-center.mt-white.mt-5.display-3 One of Us, One of Us!
			.row
				.col
					.card.my-5.mx-auto(style='max-width:500px')
						.card-body
							block content
								h1 Register
								//- please let ben know if you move the order of resiteration fields so he can fix validation
								small#passwordHelpBlock.form-text.text-muted
									| Fields marked with an asterisk are required.
								hr
								form#register(name="register", action='', method='POST' novalidate)
									.form-group
										label(for='userName') * Username:
										input#userLogin.form-control(type='text' placeholder='Enter Username' name='userLogin')
										p#userNameError.errorMsg

									.form-group
										.form-group
											label(for='firstName') * Name:
											input#userName.form-control(type='text' placeholder='Enter Name' name='userName')
											p#firstNameError.errorMsg

										.form-group
											label(for='lastName') * Surname:
											input#userSurname.form-control(type='text' placeholder='Enter Surname' name='userSurname')
											p#lastNameError.errorMsg

									.form-group
										label(for='email') * Email:
										input#userEmail.form-control(type='email' placeholder='Enter Email' name='userEmail')
										p#emailError.errorMsg

									.form-group
										.form-group
											label(for='password') * Password:
											input#userPass.form-control(type='password' placeholder='Enter Password' name='userPass')
											p#passError.errorMsg
											small#passwordHelpBlock.form-text.text-muted
												| Your password must contain letters and numbers, and must not contain spaces, special characters, or emoji.

										.form-group
											label(for='confirmPassword') * Confirm Password:
											input#userConfPass.form-control(type='password' placeholder='Confirm Password' name='userConfPass')
											p#confPassError.errorMsg

									p.text-right
										| Already have an account? 
										a(href='/user/login') Login.
									
									//- button#submit.btn.btn-success.btn-block.btn-lg.enableOnInput(type='submit', value='register' disabled='disabled') Register
									input#submit.btn.btn-success.btn-block.btn-lg.enableOnInput(type='button', value='Register', onclick='registerPost()', style="background-color:#28a745", disabled='disabled')
								p#error.mt-3

		include footer.pug

			//- SCRIPTS
		include js_includes.pug
		script(src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.2.0/sweetalert2.all.min.js")
		script(src="/register.js")
		script(src='/validation.js')
		//- annoying validation is currently disabled
		//- script(src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js")

		//- script(src="/submission.js")

		//- script.
		//- 	$('#userLogin, #userName, #userSurname, #userEmail, #userPassword, #userConfPass').keyup(function () {
		//- 		if ($(this).val() == '') {
		//- 			//Check to see if there is any text entered
		//- 			// If there is no text within the input ten disable the button
		//- 			$('.enableOnInput').prop('disabled', true);
		//- 		} else {
		//- 			//If there is text in the input, then enable the button
		//- 			$('.enableOnInput').prop('disabled', false);
		//- 		}
		//- 	});
		if error === 'invalidForm'
			script.
				swal(
					'Error!',
					'Registration form was invalid',
					'error'
				)

			